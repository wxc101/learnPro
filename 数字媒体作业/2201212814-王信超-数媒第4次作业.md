<center><h1>数字媒体技术基础</h1><center>

<center><h2>第四次作业--E3调整定理的证明</h2</center>

<center>王信超 2201212814</center>

## E1、E2和E3调整定理

### E1调整定理

当[a, b)区间包含于[0,0.5)时，此时最高位都是0，将a和b都左移一位并输出0，此时区间长度增加一倍即**E1定理为： **$E_{1}\left(\begin{array}{l}a \\
b
\end{array}\right)=\left(\begin{array}{l}
2 a \\
2 b
\end{array}\right)$

所**n次的E1调整定理**$\left(E_1\right)^n\left(\begin{array}{l}a \\
b
\end{array}\right)=\left(\begin{array}{c}
2^n a \\
2^n b
\end{array}\right)$

### E2调整定理

当[a, b)区间包含于[0.5,1)时，此时最高位都是1，将a和b都左移一位并输出1，此时区间长度同样增加一倍：$E_{2}\left(\begin{array}{l}
a \\
b
\end{array}\right)=\left(\begin{array}{l}
2 a - 1\\
2 b - 1
\end{array}\right)$

所**n次的E2调整定理**$\left(E_2\right)^n\left(\begin{array}{l}
a \\
b
\end{array}\right)=\left(\begin{array}{c}
2^n a-2^n+1 \\
2^n b-2^n+1
\end{array}\right)$
#### E3调整定理

​	E3调整定理是为了解决算数编码时，在low和high在0.5左右无限接近的情况下，其二进制高位始终不一样，无法使用E1算法或E2算法调整。

​	当区间在[0.25,0.75)且不满足E1或E2调整时，就需要将区间扩展到[0, 1)范围：$E_3(x) = 2x - 0.5$

​	在调整后暂不输出，直到遇到E1或E2调整时再补偿输出，补偿输出公式如下：
$$
E_1 \circ (E_3)^n = (E_2)^n \circ E_1 \\
E_2 \circ (E_3)^n = (E_1)^n \circ E_2
$$
​	所以可以得到n次E3调整定理:
$$
(E_{3})^n\left(\begin{array}{l}
a \\
b
\end{array}\right)=\left(\begin{array}{l}
2^n a - 2^{n-1} + \frac{1}{2}\\
2^n b - 2^{n-1} + \frac{1}{2}
\end{array}\right)
$$
## E3调整定理的证明

​	对于E3调整定理的证明，我们需要证明两个等式，**第一个等式为:**
$$
E_1 \circ (E_3)^n = (E_2)^n \circ E_1
$$
​	**第二个等式为:**
$$
E_2 \circ (E_3)^n = (E_1)^n \circ E_2
$$
​	下面将详细证明

### 等式1证明

计算等式**左侧**：
$$
(E_1 \circ (E_3)^n)\left(\begin{array}{l}
a \\
b
\end{array}\right)= 
E_1\left(\begin{array}{l}
2^n a - 2^{n-1} + \frac{1}{2} \\
2^n b - 2^{n-1} + \frac{1}{2} 
\end{array}\right) = 
\left(\begin{array}{l}
2 \cdot (2^n a - 2^{n-1} + \frac{1}{2}) \\
2 \cdot (2^n b- 2^{n-1} + \frac{1}{2})
\end{array}\right) = 
\left(\begin{array}{l}
2^{n+1}a - 2^n + 1 \\
2^{n+1}b - 2^n + 1
\end{array}\right)
$$

计算等式**右侧：**
$$
((E_2)^n \circ E_1)\left(\begin{array}{l}
a \\
b
\end{array}\right) = 
(E_2)^n \left(\begin{array}{l}
2a \\
2b
\end{array}\right) = 
\left(\begin{array}{l}
2^n \cdot 2a - 2^n + 1 \\
2^n \cdot 2b - 2^n + 1
\end{array}\right) = 
\left(\begin{array}{l}
2^{n+1}a - 2^n + 1 \\
2^{n+1}b - 2^n + 1
\end{array}\right)
$$
**因此$E_1 \circ (E_3)^n = (E_2)^n \circ E_1$。**

### 等式2证明

计算等式**左侧：**
$$
\begin{gather*}
(E_2 \circ (E_3)^n)\left(\begin{array}{l}
a \\
b
\end{array}\right)  = 
E_2\left(\begin{array}{l}
2^n a - 2^{n-1} + \frac{1}{2} \\
2^n b - 2^{n-1} + \frac{1}{2}
\end{array}\right)  = 
\left(\begin{array}{l}
2^n \cdot (2^n a - 2^{n-1} + \frac{1}{2}) - 1 \\
2^n \cdot (2^n b - 2^{n-1} + \frac{1}{2}) - 1 
\end{array}\right) = 
\left(\begin{array}{l}
2^{n+1}a - 2^n \\
2^{n+1}b - 2^n
\end{array}\right)
\end{gather*}
$$

计算等式**右侧：**
$$
\begin{gather*}
((E_1)^n \circ E_2)\left(\begin{array}{l}
a \\
b
\end{array}\right) = 
(E_1)^n\left(\begin{array}{l}
2a - 1 \\
2b - 1
\end{array}\right) = 
\left(\begin{array}{l}
2^n(2a - 1)\\
2^n(2b - 1)
\end{array}\right) = 
\left(\begin{array}{l}
2^{n+1}a - 2^n \\
2^{n+1}b - 2^n
\end{array}\right)
\end{gather*}
$$

**因此$E_2 \circ (E_3)^n = (E_1)^n \circ E_2$。**